<?xml version="1.0"?>

<!-- 
(c) Copyright, Real-Time Innovations, 2020.  All rights reserved.
RTI grants Licensee a license to use, modify, compile, and create derivative
works of the software solely for use with RTI Connext DDS. Licensee may
redistribute copies of the software provided that all such copies are subject
to this license. The software is provided "as is", with no warranty of any
type, including any warranty for fitness for any purpose. RTI is under no
obligation to maintain or support the software. RTI shall not be liable for
any incidental or consequential damages arising out of the use or inability
to use the software.
-->

<dds version="7.1.0"
    xsi:noNamespaceSchemaLocation="http://community.rti.com/schema/current/rti_dds_profiles.xsd"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">

    <!-- SA Data types file -->
    <types>
        <include file="umaa_sa_types.xml"/>
    </types>


    <!-- QOS Library -->
    <qos_library name="UMAAQOSLibrary">
        <qos_profile name="ParticipantQOS" is_default_participant_factory_profile = "true" is_default_qos="true"> 
            <participant_factory_qos>

                <!-- Control logging verbosity and category here -->
                <logging>
                    <verbosity>ERROR</verbosity>
                    <category>ALL</category>
                    <print_format>DEBUG</print_format>
	                <output_file></output_file>
                </logging>
            </participant_factory_qos>

            
            <participant_qos>
                <resource_limits>
                    <!-- Increase the default for some of the larger types -->
                    <type_object_max_serialized_length>10000</type_object_max_serialized_length>

                    <!-- Uncomment below to disable type propagation during discovery -->
                    <!-- <type_code_max_serialized_length>0</type_code_max_serialized_length>
                    <type_object_max_deserialized_length>0</type_object_max_deserialized_length>  -->

                </resource_limits>              

            </participant_qos>

            <!--  We disable Readers and Writers from being created, so we can enable programatically -->
            <publisher_qos>
                <entity_factory>
                    <autoenable_created_entities>false</autoenable_created_entities>
                </entity_factory>
            </publisher_qos>
            <subscriber_qos>
                <entity_factory>
                    <autoenable_created_entities>false</autoenable_created_entities>
                </entity_factory>
            </subscriber_qos>
        </qos_profile>

        <qos_profile name="PeriodicData" base_name="BuiltinQosLib::Pattern.PeriodicData"> 
            <!--  This profile is applied where data is high frequency periodic and can afford some data loss -->
            <!-- Add QOS Profile overrides here as needed -->       
        </qos_profile>


        <qos_profile name="ReliableStreaming" base_name="BuiltinQosLib::Pattern.ReliableStreaming"> 
            <!--  This profile is applied where data is periodic but we need to ensure receipt of the last message -->
            <!-- Add QOS Profile overrides here as needed -->
        </qos_profile>


        <qos_profile name="StrictReliable" base_name="BuiltinQosLib::Generic.StrictReliable"> 
            <!-- This profile is applied where data is intermittent but needs to ensure receipt of every message- Commands etc.. -->
            <!-- Add QOS Profile overrides here as needed -->
        </qos_profile>

        <!--This is where we assign our base profiles to each Topic -->
        <qos_profile name="ContactCOLREGSClassificationReportQOS" base_name="ReliableStreaming" /> 
        <qos_profile name="ContactReportQOS" base_name="ReliableStreaming" /> 
        <qos_profile name="ContactVisualClassificationReportQOS" base_name="ReliableStreaming" /> 
        <qos_profile name="DateTimeReportQOS" base_name="ReliableStreaming" /> 
        <qos_profile name="ECEFPoseReportQOS" base_name="PeriodicData" /> 
        <qos_profile name="GlobalPoseReportQOS" base_name="ReliableStreaming" /> 
        <qos_profile name="MagneticVariationSpecsReportQOS" base_name="ReliableStreaming" /> 
        <qos_profile name="MagneticVariationReportQOS" base_name="ReliableStreaming" />
        <qos_profile name="SeaStateReportQOS" base_name="PeriodicData" /> 
        <qos_profile name="SpeedReportQOS" base_name="PeriodicData" /> 
        <qos_profile name="TranslationalShipMotionReportQOS" base_name="ReliableStreaming" /> 
        <qos_profile name="VehicleNavigationModeReportQOS" base_name="ReliableStreaming" /> 
        <qos_profile name="VelocityReportQOS" base_name="ReliableStreaming" /> 
        <qos_profile name="WaterCurrentReportQOS" base_name="PeriodicData" /> 
        <qos_profile name="WaterspaceReportQOS" base_name="PeriodicData" /> 
    </qos_library>

    <!-- Domain and Topic Library -->
    <domain_library name="UMAASADomainLibrary">
        <domain name="UMAADomain0" domain_id="0">

            <!-- Register the types -->
            <register_type name="ContactCOLREGSClassificationReportType" 
            type_ref="UMAA::SA::ContactCOLREGSClassificationStatus::ContactCOLREGSClassificationReportType"/>

            <register_type name="ContactReportType" 
            type_ref="UMAA::SA::ContactReport::ContactReportType"/>

            <register_type name="ContactVisualClassificationReportType" 
            type_ref="UMAA::SA::ContactVisualClassificationStatus::ContactVisualClassificationReportType"/>

            <register_type name="DateTimeReportType" 
            type_ref="UMAA::SA::DateTimeStatus::DateTimeReportType"/>

            <register_type name="ECEFPoseReportType" 
            type_ref="UMAA::SA::ECEFPoseStatus::ECEFPoseReportType"/>

            <register_type name="GlobalPoseReportType" 
            type_ref="UMAA::SA::GlobalPoseStatus::GlobalPoseReportType"/>
            
            <register_type name="MagneticVariationSpecsReportType" 
            type_ref="UMAA::SA::MagneticVariationSpecs::MagneticVariationSpecsReportType"/>
                        
            <register_type name="MagneticVariationReportType" 
            type_ref="UMAA::SA::MagneticVariationStatus::MagneticVariationReportType"/>

            <register_type name="SeaStateReportType" 
            type_ref="UMAA::SA::SeaStateReport::SeaStateReportType"/>
            
            <register_type name="SpeedReportType" 
            type_ref="UMAA::SA::SpeedStatus::SpeedReportType"/>

            <register_type name="TranslationalShipMotionReportType" 
            type_ref="UMAA::SA::TranslationalShipMotionStatus::TranslationalShipMotionReportType"/>

            <register_type name="VelocityReportType" 
            type_ref="UMAA::SA::VelocityStatus::VelocityReportType"/>

            <register_type name="WaterCurrentReportType" 
            type_ref="UMAA::SA::WaterCurrentStatus::WaterCurrentReportType"/>

            <register_type name="WaterspaceReportType" 
            type_ref="UMAA::SA::WaterspaceStatus::WaterspaceReportType"/>
           

            <!-- Associate the topics to the types-->
            <topic
                name="UMAA::SA::ContactCOLREGSClassificationStatus::ContactCOLREGSClassificationReport"
                register_type_ref="ContactCOLREGSClassificationReportType" />

            <topic name="UMAA::SA::ContactReport::ContactReport"
                register_type_ref="ContactReportType" />

            <topic
                name="UMAA::SA::ContactVisualClassificationStatus::ContactVisualClassificationReport"
                register_type_ref="ContactVisualClassificationReportType" />

            <topic name="UMAA::SA::DateTimeStatus::DateTimeReport"
                register_type_ref="DateTimeReportType" />

            <topic name="UMAA::SA::ECEFPoseStatus::ECEFPoseReport"
                register_type_ref="ECEFPoseReportType" />

            <topic name="UMAA::SA::GlobalPoseStatus::GlobalPoseReport"
            register_type_ref="GlobalPoseReportType" />
            
            <topic name="UMAA::SA::MagneticVariationSpecs::MagneticVariationSpecsReport"
                register_type_ref="MagneticVariationSpecsReportType" />

            <topic name="UMAA::SA::MagneticVariationStatus::MagneticVariationReport"
                register_type_ref="MagneticVariationReportType" />

            <topic name="UMAA::SA::SeaStateReport::SeaStateReport" register_type_ref="SeaStateReportType" />

            <topic name="UMAA::SA::SpeedStatus::SpeedReport" register_type_ref="SpeedReportType" />

            <topic name="UMAA::SA::TranslationalShipMotionStatus::TranslationalShipMotionReport"
                register_type_ref="TranslationalShipMotionReportType" />

            <topic name="UMAA::SA::VelocityStatus::VelocityReport"
                register_type_ref="VelocityReportType" />

            <topic name="UMAA::SA::WaterCurrentStatus::WaterCurrentReport"
                register_type_ref="WaterCurrentReportType" />

            <topic name="UMAA::SA::WaterspaceStatus::WaterspaceReport"
                register_type_ref="WaterspaceReportType" />

        </domain>
    </domain_library>

    <!-- Participant library -->
    <domain_participant_library name="UMAAParticipantLibrary">

        <!-- Define the entities for the SA PROVIDER - Associate with Topics and QOS -->
        <domain_participant name="SAProvider" domain_ref="UMAASADomainLibrary::UMAADomain0">
            <domain_participant_qos base_name="UMAAQOSLibrary::ParticipantQOS"/>

            <!-- Publisher/Subscribers created for each reader/writer for future Partitioning support -->
            <publisher name="ContactCOLREGSClassificationReportPublisher">
                <data_writer name="ContactCOLREGSClassificationReportWriter"
                    topic_ref="UMAA::SA::ContactCOLREGSClassificationStatus::ContactCOLREGSClassificationReport">
                    <datawriter_qos base_name="UMAAQOSLibrary::ContactCOLREGSClassificationReportQOS">
                        
                        <!-- Override QOS at datawriter_qos/datareader_qos level if necessary -->
                    </datawriter_qos>
                </data_writer>
            </publisher>
            <publisher name="ContactReportPublisher">
                <data_writer name="ContactReportWriter"
                    topic_ref="UMAA::SA::ContactReport::ContactReport">
                    <datawriter_qos base_name="UMAAQOSLibrary::ContactReportQOS"/>
                </data_writer>
            </publisher>
            <publisher name="ContactVisualClassificationReportPublisher">
                <data_writer name="ContactVisualClassificationReportWriter"
                    topic_ref="UMAA::SA::ContactVisualClassificationStatus::ContactVisualClassificationReport">
                    <datawriter_qos base_name="UMAAQOSLibrary::ContactVisualClassificationReportQOS" />
                </data_writer>
            </publisher>
            <publisher name="DateTimeReportPublisher">
                <data_writer name="DateTimeReportWriter"
                    topic_ref="UMAA::SA::DateTimeStatus::DateTimeReport">
                    <datawriter_qos base_name="UMAAQOSLibrary::DateTimeReportQOS"/>
                </data_writer>
            </publisher>
            <publisher name="ECEFPoseReportPublisher">
                <data_writer name="ECEFPoseReportWriter"
                    topic_ref="UMAA::SA::ECEFPoseStatus::ECEFPoseReport">
                    <datawriter_qos base_name="UMAAQOSLibrary::ECEFPoseReportQOS"/>
                </data_writer>
            </publisher>
            <publisher name="GlobalPoseReportPublisher">
                <data_writer name="GlobalPoseReportWriter"
                    topic_ref="UMAA::SA::GlobalPoseStatus::GlobalPoseReport">
                    <datawriter_qos base_name="UMAAQOSLibrary::GlobalPoseReportQOS"/>
                </data_writer>
            </publisher>
            <publisher name="MagneticVariationSpecsReportPublisher">
                <data_writer name="MagneticVariationSpecsReportWriter"
                    topic_ref="UMAA::SA::MagneticVariationSpecs::MagneticVariationSpecsReport">
                    <datawriter_qos base_name="UMAAQOSLibrary::MagneticVariationSpecsReportQOS"/>
                </data_writer>
            </publisher>
            <publisher name="MagneticVariationReportPublisher">
                <data_writer name="MagneticVariationReportWriter"
                    topic_ref="UMAA::SA::MagneticVariationStatus::MagneticVariationReport">
                    <datawriter_qos base_name="UMAAQOSLibrary::MagneticVariationReportQOS"/>
                </data_writer>
            </publisher>
            <publisher name="SeaStateReportPublisher">
                <data_writer name="SeaStateReportWriter" 
                    topic_ref="UMAA::SA::SeaStateReport::SeaStateReport">
                    <datawriter_qos base_name="UMAAQOSLibrary::SeaStateReportQOS"/>
                </data_writer>
            </publisher>
            <publisher name="SpeedReportPublisher">
                <data_writer name="SpeedReportWriter" 
                    topic_ref="UMAA::SA::SpeedStatus::SpeedReport">
                    <datawriter_qos base_name="UMAAQOSLibrary::SpeedReportQOS"/>
                </data_writer>
            </publisher>
            <publisher name="TranslationalShipMotionReportPublisher">
                <data_writer name="TranslationalShipMotionReportWriter"
                    topic_ref="UMAA::SA::TranslationalShipMotionStatus::TranslationalShipMotionReport">
                    <datawriter_qos base_name="UMAAQOSLibrary::TranslationalShipMotionReportQOS" />
                </data_writer>
            </publisher>
            <publisher name="VelocityReportPublisher">
                <data_writer name="VelocityReportWriter"
                    topic_ref="UMAA::SA::VelocityStatus::VelocityReport">
                    <datawriter_qos base_name="UMAAQOSLibrary::VelocityReportQOS"/>
                </data_writer>
            </publisher>
            <publisher name="WaterCurrentReportPublisher">
                <data_writer name="WaterCurrentReportWriter"
                    topic_ref="UMAA::SA::WaterCurrentStatus::WaterCurrentReport">
                    <datawriter_qos base_name="UMAAQOSLibrary::WaterCurrentReportQOS" />
                </data_writer>
            </publisher>
            <publisher name="WaterspaceReportPublisher">
                <data_writer name="WaterspaceReportWriter"
                    topic_ref="UMAA::SA::WaterspaceStatus::WaterspaceReport">
                    <datawriter_qos base_name="UMAAQOSLibrary::WaterspaceReportQOS"/>
                </data_writer>
            </publisher>

        </domain_participant>

        <!-- Define the entities for the SA Consumer - Associate with Topics and QOS -->
        <domain_participant name="SAConsumer" domain_ref="UMAASADomainLibrary::UMAADomain0">
            <domain_participant_qos base_name="UMAAQOSLibrary::ParticipantQOS"/>

            <subscriber name="ContactCOLREGSClassificationReportSubscriber">
                <data_reader name="ContactCOLREGSClassificationReportReader"
                    topic_ref="UMAA::SA::ContactCOLREGSClassificationStatus::ContactCOLREGSClassificationReport">
                    <datareader_qos base_name="UMAAQOSLibrary::ContactCOLREGSClassificationReportQOS" />
                </data_reader>
            </subscriber>
            <subscriber name="ContactReportSubscriber">
                <data_reader name="ContactReportReader"
                    topic_ref="UMAA::SA::ContactReport::ContactReport">
                    <datareader_qos base_name="UMAAQOSLibrary::ContactReportQOS" />
                </data_reader>
            </subscriber>
            <subscriber name="ContactVisualClassificationReportSubscriber">
                <data_reader name="ContactVisualClassificationReportReader"
                    topic_ref="UMAA::SA::ContactVisualClassificationStatus::ContactVisualClassificationReport">
                    <datareader_qos base_name="UMAAQOSLibrary::ContactVisualClassificationReportQOS" />
                </data_reader>
            </subscriber>
            <subscriber name="DateTimeReportSubscriber">
                <data_reader name="DateTimeReportReader"
                    topic_ref="UMAA::SA::DateTimeStatus::DateTimeReport">
                    <datareader_qos base_name="UMAAQOSLibrary::DateTimeReportQOS" />
                </data_reader>
            </subscriber>
            <subscriber name="ECEFPoseReportSubscriber">
                <data_reader name="ECEFPoseReportReader"
                    topic_ref="UMAA::SA::ECEFPoseStatus::ECEFPoseReport">
                    <datareader_qos base_name="UMAAQOSLibrary::ECEFPoseReportQOS" />
                </data_reader>
            </subscriber>
            <subscriber name="GlobalPoseReportSubscriber">
                <data_reader name="GlobalPoseReportReader"
                    topic_ref="UMAA::SA::GlobalPoseStatus::GlobalPoseReport">
                    <datareader_qos base_name="UMAAQOSLibrary::GlobalPoseReportQOS" />
                </data_reader>
            </subscriber>
            <subscriber name="MagneticVariationSpecsReportSubscriber">
                <data_reader name="MagneticVariationSpecsReportReader"
                    topic_ref="UMAA::SA::MagneticVariationSpecs::MagneticVariationSpecsReport">
                    <datareader_qos base_name="UMAAQOSLibrary::MagneticVariationSpecsReportQOS"/>
                </data_reader>
            </subscriber>
            <subscriber name="MagneticVariationReportSubscriber">
                <data_reader name="MagneticVariationReportReader"
                    topic_ref="UMAA::SA::MagneticVariationStatus::MagneticVariationReport">
                    <datareader_qos base_name="UMAAQOSLibrary::MagneticVariationReportQOS"/>
                </data_reader>
            </subscriber>
            <subscriber name="SeaStateReportSubscriber">
                <data_reader name="SeaStateReportReader" 
                    topic_ref="UMAA::SA::SeaStateReport::SeaStateReport">
                    <datareader_qos base_name="UMAAQOSLibrary::SeaStateReportQOS"/>
                </data_reader>
            </subscriber>
            <subscriber name="SpeedReportSubscriber">
                <data_reader name="SpeedReportReader" 
                    topic_ref="UMAA::SA::SpeedStatus::SpeedReport">
                    <datareader_qos base_name="UMAAQOSLibrary::SpeedReportQOS"/>
                </data_reader>
            </subscriber>
            <subscriber name="TranslationalShipMotionReportSubscriber">
                <data_reader name="TranslationalShipMotionReportReader"
                    topic_ref="UMAA::SA::TranslationalShipMotionStatus::TranslationalShipMotionReport">
                    <datareader_qos base_name="UMAAQOSLibrary::TranslationalShipMotionReportQOS" />
                </data_reader>
            </subscriber>
            <subscriber name="VelocityReportSubscriber">
                <data_reader name="VelocityReportReader"
                    topic_ref="UMAA::SA::VelocityStatus::VelocityReport">
                    <datareader_qos base_name="UMAAQOSLibrary::VelocityReportQOS" />
                </data_reader>
            </subscriber>
            <subscriber name="WaterCurrentReportSubscriber">
                <data_reader name="WaterCurrentReportReader"
                    topic_ref="UMAA::SA::WaterCurrentStatus::WaterCurrentReport">
                    <datareader_qos base_name="UMAAQOSLibrary::WaterCurrentReportQOS" />
                </data_reader>
            </subscriber>
            <subscriber name="WaterspaceReportSubscriber">
                <data_reader name="WaterspaceReportReader"
                    topic_ref="UMAA::SA::WaterspaceStatus::WaterspaceReport">
                    <datareader_qos base_name="UMAAQOSLibrary::WaterspaceReportQOS"/>
                </data_reader>
            </subscriber>

        </domain_participant>
    </domain_participant_library>
</dds>